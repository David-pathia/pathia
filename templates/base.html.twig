{# templates/base.html.twig #}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}PathIA - Protocoles d'Acc√®s{% endblock %}</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>üõ°Ô∏è</text></svg>">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{{ asset('styles/app.css') }}">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-stark">
    {% if is_granted('ROLE_ADMIN') %}
        <li class="nav-item">
            <a class="nav-link text-gold" href="{{ path('admin') }}">
                <i class="bi bi-cpu me-1"></i> DASHBOARD
            </a>
        </li>
    {% endif %}
    <a class="navbar-brand text-white fw-bold" href="{{ path('app_home') }}">
        <span style="color: var(--stark-red)">PATH</span>IA
    </a>
    <div class="ms-auto d-flex align-items-center gap-4">
        <a class="nav-link" href="{{ path('app_home') }}">Accueil</a>
        <a class="nav-link" href="{{ path('app_pricing') }}">Protocoles</a>
        {% if app.user %}
            <a class="nav-link" href="{{ path('app_newsletter_index') }}">
                <i class="bi bi-newspaper me-1"></i> Newsletters
            </a>
            <span class="text-secondary small">ID: {{ app.user.userIdentifier }}</span>
            <a class="btn-auth" href="{{ path('app_logout') }}">D√©connexion</a>
        {% else %}
            <a class="nav-link" href="{{ path('app_login') }}">Connexion</a>
            <a class="btn-auth" href="{{ path('app_register') }}">S'inscrire</a>
        {% endif %}
    </div>
</nav>

<div class="container mt-5">

        {# Syst√®me de notifications de l'armure (Messages Flash) #}
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="alert alert-{{ label }} alert-dismissible fade show stark-alert" role="alert">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                    <strong>SYSTEM MESSAGE :</strong> {{ message }}
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endfor %}
    {% block body %}{% endblock %}
</div>
</body>
</html>
